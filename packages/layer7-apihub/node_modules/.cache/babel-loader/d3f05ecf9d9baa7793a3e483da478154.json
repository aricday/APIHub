{"ast":null,"code":"import _defineProperty from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import{SimpleForm}from'react-admin';import{required}from'ra-core';import{makeStyles}from'@material-ui/core';import{FORM_ERROR}from'final-form';import{NewPasswordToolbar}from'./NewPasswordToolbar';import{PasswordInput}from'../ui';import{validatePassword}from'../authentication/validatePassword';var useStyles=makeStyles(function(theme){return{form:{display:'flex',flexDirection:'column'}};});export var NewPasswordForm=function NewPasswordForm(props){var onSubmit=props.onSubmit;var classes=useStyles(props);var validate=function validate(_ref){var newPassword=_ref.newPassword,confirm_password=_ref.confirm_password;if(newPassword!==confirm_password){return _defineProperty({},FORM_ERROR,'resources.userContexts.validation.error_password_match');}};return React.createElement(SimpleForm,Object.assign({className:classes.form,save:onSubmit,toolbar:React.createElement(NewPasswordToolbar,null),validate:validate},props),React.createElement(PasswordInput,{source:\"password\",label:\"resources.userContexts.fields.userDetails.current_password\",fullWidth:true,validate:[required()],title:\"resources.userContexts.validation.tooltip_password\"}),React.createElement(PasswordInput,{source:\"newPassword\",label:\"resources.userContexts.fields.userDetails.password\",fullWidth:true,validate:[required(),validatePassword],title:\"resources.userContexts.validation.tooltip_password\"}),React.createElement(PasswordInput,{source:\"confirm_password\",label:\"resources.userContexts.fields.userDetails.confirm_password\",fullWidth:true,validate:required(),title:\"resources.userContexts.tooltip_password_confirm\"}));};NewPasswordForm.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"NewPasswordForm\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/userContexts/NewPasswordForm.js\"]={name:\"NewPasswordForm\",docgenInfo:NewPasswordForm.__docgenInfo,path:\"src/userContexts/NewPasswordForm.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/userContexts/NewPasswordForm.js"],"names":["React","SimpleForm","required","makeStyles","FORM_ERROR","NewPasswordToolbar","PasswordInput","validatePassword","useStyles","theme","form","display","flexDirection","NewPasswordForm","props","onSubmit","classes","validate","newPassword","confirm_password"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,aAA3B,CACA,OAASC,QAAT,KAAyB,SAAzB,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,OAASC,UAAT,KAA2B,YAA3B,CAEA,OAASC,kBAAT,KAAmC,sBAAnC,CACA,OAASC,aAAT,KAA8B,OAA9B,CACA,OAASC,gBAAT,KAAiC,oCAAjC,CAEA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAAAM,KAAK,QAAK,CACnCC,IAAI,CAAE,CACFC,OAAO,CAAE,MADP,CAEFC,aAAa,CAAE,QAFb,CAD6B,CAAL,EAAN,CAA5B,CAOA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,IAC5BC,CAAAA,QAD4B,CACfD,KADe,CAC5BC,QAD4B,CAEpC,GAAMC,CAAAA,OAAO,CAAGR,SAAS,CAACM,KAAD,CAAzB,CAEA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAuC,IAApCC,CAAAA,WAAoC,MAApCA,WAAoC,CAAvBC,gBAAuB,MAAvBA,gBAAuB,CACpD,GAAID,WAAW,GAAKC,gBAApB,CAAsC,CAClC,0BACKf,UADL,CAEQ,wDAFR,EAIH,CACJ,CAPD,CASA,MACI,qBAAC,UAAD,gBACI,SAAS,CAAEY,OAAO,CAACN,IADvB,CAEI,IAAI,CAAEK,QAFV,CAGI,OAAO,CAAE,oBAAC,kBAAD,MAHb,CAII,QAAQ,CAAEE,QAJd,EAKQH,KALR,EAOI,oBAAC,aAAD,EACI,MAAM,CAAC,UADX,CAEI,KAAK,CAAC,4DAFV,CAGI,SAAS,KAHb,CAII,QAAQ,CAAE,CAACZ,QAAQ,EAAT,CAJd,CAKI,KAAK,CAAC,oDALV,EAPJ,CAcI,oBAAC,aAAD,EACI,MAAM,CAAC,aADX,CAEI,KAAK,CAAC,oDAFV,CAGI,SAAS,KAHb,CAII,QAAQ,CAAE,CAACA,QAAQ,EAAT,CAAaK,gBAAb,CAJd,CAKI,KAAK,CAAC,oDALV,EAdJ,CAqBI,oBAAC,aAAD,EACI,MAAM,CAAC,kBADX,CAEI,KAAK,CAAC,4DAFV,CAGI,SAAS,KAHb,CAII,QAAQ,CAAEL,QAAQ,EAJtB,CAKI,KAAK,CAAC,iDALV,EArBJ,CADJ,CA+BH,CA5CM,C","sourcesContent":["import React from 'react';\nimport { SimpleForm } from 'react-admin';\nimport { required } from 'ra-core';\nimport { makeStyles } from '@material-ui/core';\nimport { FORM_ERROR } from 'final-form';\n\nimport { NewPasswordToolbar } from './NewPasswordToolbar';\nimport { PasswordInput } from '../ui';\nimport { validatePassword } from '../authentication/validatePassword';\n\nconst useStyles = makeStyles(theme => ({\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nexport const NewPasswordForm = props => {\n    const { onSubmit } = props;\n    const classes = useStyles(props);\n\n    const validate = ({ newPassword, confirm_password }) => {\n        if (newPassword !== confirm_password) {\n            return {\n                [FORM_ERROR]:\n                    'resources.userContexts.validation.error_password_match',\n            };\n        }\n    };\n\n    return (\n        <SimpleForm\n            className={classes.form}\n            save={onSubmit}\n            toolbar={<NewPasswordToolbar />}\n            validate={validate}\n            {...props}\n        >\n            <PasswordInput\n                source=\"password\"\n                label=\"resources.userContexts.fields.userDetails.current_password\"\n                fullWidth\n                validate={[required()]}\n                title=\"resources.userContexts.validation.tooltip_password\"\n            />\n            <PasswordInput\n                source=\"newPassword\"\n                label=\"resources.userContexts.fields.userDetails.password\"\n                fullWidth\n                validate={[required(), validatePassword]}\n                title=\"resources.userContexts.validation.tooltip_password\"\n            />\n            <PasswordInput\n                source=\"confirm_password\"\n                label=\"resources.userContexts.fields.userDetails.confirm_password\"\n                fullWidth\n                validate={required()}\n                title=\"resources.userContexts.tooltip_password_confirm\"\n            />\n        </SimpleForm>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}