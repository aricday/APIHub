{"ast":null,"code":"import React from'react';import{useTranslate,useGetOne,CRUD_GET_ONE}from'react-admin';import get from'lodash/get';import LinearProgress from'@material-ui/core/LinearProgress';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import{buildDocumentId}from'../../dataProvider/documents';import{MarkdownView}from'../../ui';import{DocumentToolbar}from'./DocumentToolbar';var useStyles=makeStyles(function(theme){return{markdown:{padding:theme.spacing(2)}};});export var DocumentView=function DocumentView(_ref){var allDocuments=_ref.allDocuments,document=_ref.document,entityType=_ref.entityType,entityUuid=_ref.entityUuid,locale=_ref.locale,userCanEdit=_ref.userCanEdit,userCanDelete=_ref.userCanDelete,hasChildren=_ref.hasChildren,onEdit=_ref.onEdit,onAddNewDocument=_ref.onAddNewDocument,onDeleteDocument=_ref.onDeleteDocument;var translate=useTranslate();var classes=useStyles();var documentId=buildDocumentId(entityType,entityUuid,document.navtitle,document.locale);var _useGetOne=useGetOne('documents',documentId,{action:CRUD_GET_ONE}),data=_useGetOne.data,loaded=_useGetOne.loaded,loading=_useGetOne.loading,error=_useGetOne.error;if(loading){return React.createElement(LinearProgress,null);}if(loaded&&!!(!data||error)){return React.createElement(Typography,{variant:\"body2\",color:\"error\"},translate('ra.page.error'));}return React.createElement(React.Fragment,null,React.createElement(DocumentToolbar,{allDocuments:allDocuments,document:document,entityType:entityType,entityUuid:entityUuid,userCanEdit:userCanEdit,userCanAdd:userCanEdit,userCanDelete:userCanDelete,hasChildren:hasChildren,onEdit:onEdit,onAddNewDocument:onAddNewDocument,onDeleteDocument:onDeleteDocument,locale:locale}),React.createElement(MarkdownView,{className:classes.markdown,value:get(data,'markdown','')}));};DocumentView.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"DocumentView\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/Documentation/DocumentView.js\"]={name:\"DocumentView\",docgenInfo:DocumentView.__docgenInfo,path:\"src/apis/Documentation/DocumentView.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/apis/Documentation/DocumentView.js"],"names":["React","useTranslate","useGetOne","CRUD_GET_ONE","get","LinearProgress","Typography","makeStyles","buildDocumentId","MarkdownView","DocumentToolbar","useStyles","theme","markdown","padding","spacing","DocumentView","allDocuments","document","entityType","entityUuid","locale","userCanEdit","userCanDelete","hasChildren","onEdit","onAddNewDocument","onDeleteDocument","translate","classes","documentId","navtitle","action","data","loaded","loading","error"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,SAAvB,CAAkCC,YAAlC,KAAsD,aAAtD,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CAEA,OAASC,eAAT,KAAgC,8BAAhC,CACA,OAASC,YAAT,KAA6B,UAA7B,CACA,OAASC,eAAT,KAAgC,mBAAhC,CAEA,GAAMC,CAAAA,SAAS,CAAGJ,UAAU,CAAC,SAAAK,KAAK,QAAK,CACnCC,QAAQ,CAAE,CACNC,OAAO,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADH,CADyB,CAAL,EAAN,CAA5B,CAMA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAYtB,IAXFC,CAAAA,YAWE,MAXFA,YAWE,CAVFC,QAUE,MAVFA,QAUE,CATFC,UASE,MATFA,UASE,CARFC,UAQE,MARFA,UAQE,CAPFC,MAOE,MAPFA,MAOE,CANFC,WAME,MANFA,WAME,CALFC,aAKE,MALFA,aAKE,CAJFC,WAIE,MAJFA,WAIE,CAHFC,MAGE,MAHFA,MAGE,CAFFC,gBAEE,MAFFA,gBAEE,CADFC,gBACE,MADFA,gBACE,CACF,GAAMC,CAAAA,SAAS,CAAG3B,YAAY,EAA9B,CACA,GAAM4B,CAAAA,OAAO,CAAGlB,SAAS,EAAzB,CAEA,GAAMmB,CAAAA,UAAU,CAAGtB,eAAe,CAC9BW,UAD8B,CAE9BC,UAF8B,CAG9BF,QAAQ,CAACa,QAHqB,CAI9Bb,QAAQ,CAACG,MAJqB,CAAlC,CAJE,eAWuCnB,SAAS,CAC9C,WAD8C,CAE9C4B,UAF8C,CAG9C,CAAEE,MAAM,CAAE7B,YAAV,CAH8C,CAXhD,CAWM8B,IAXN,YAWMA,IAXN,CAWYC,MAXZ,YAWYA,MAXZ,CAWoBC,OAXpB,YAWoBA,OAXpB,CAW6BC,KAX7B,YAW6BA,KAX7B,CAiBF,GAAID,OAAJ,CAAa,CACT,MAAO,qBAAC,cAAD,MAAP,CACH,CAED,GAAID,MAAM,EAAI,CAAC,EAAE,CAACD,IAAD,EAASG,KAAX,CAAf,CAAkC,CAC9B,MACI,qBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,OAAlC,EACKR,SAAS,CAAC,eAAD,CADd,CADJ,CAKH,CAED,MACI,yCACI,oBAAC,eAAD,EACI,YAAY,CAAEX,YADlB,CAEI,QAAQ,CAAEC,QAFd,CAGI,UAAU,CAAEC,UAHhB,CAII,UAAU,CAAEC,UAJhB,CAKI,WAAW,CAAEE,WALjB,CAMI,UAAU,CAAEA,WANhB,CAOI,aAAa,CAAEC,aAPnB,CAQI,WAAW,CAAEC,WARjB,CASI,MAAM,CAAEC,MATZ,CAUI,gBAAgB,CAAEC,gBAVtB,CAWI,gBAAgB,CAAEC,gBAXtB,CAYI,MAAM,CAAEN,MAZZ,EADJ,CAeI,oBAAC,YAAD,EACI,SAAS,CAAEQ,OAAO,CAAChB,QADvB,CAEI,KAAK,CAAET,GAAG,CAAC6B,IAAD,CAAO,UAAP,CAAmB,EAAnB,CAFd,EAfJ,CADJ,CAsBH,CA/DM,C","sourcesContent":["import React from 'react';\nimport { useTranslate, useGetOne, CRUD_GET_ONE } from 'react-admin';\nimport get from 'lodash/get';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { buildDocumentId } from '../../dataProvider/documents';\nimport { MarkdownView } from '../../ui';\nimport { DocumentToolbar } from './DocumentToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    markdown: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport const DocumentView = ({\n    allDocuments,\n    document,\n    entityType,\n    entityUuid,\n    locale,\n    userCanEdit,\n    userCanDelete,\n    hasChildren,\n    onEdit,\n    onAddNewDocument,\n    onDeleteDocument,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const documentId = buildDocumentId(\n        entityType,\n        entityUuid,\n        document.navtitle,\n        document.locale\n    );\n\n    const { data, loaded, loading, error } = useGetOne(\n        'documents',\n        documentId,\n        { action: CRUD_GET_ONE }\n    );\n\n    if (loading) {\n        return <LinearProgress />;\n    }\n\n    if (loaded && !!(!data || error)) {\n        return (\n            <Typography variant=\"body2\" color=\"error\">\n                {translate('ra.page.error')}\n            </Typography>\n        );\n    }\n\n    return (\n        <>\n            <DocumentToolbar\n                allDocuments={allDocuments}\n                document={document}\n                entityType={entityType}\n                entityUuid={entityUuid}\n                userCanEdit={userCanEdit}\n                userCanAdd={userCanEdit}\n                userCanDelete={userCanDelete}\n                hasChildren={hasChildren}\n                onEdit={onEdit}\n                onAddNewDocument={onAddNewDocument}\n                onDeleteDocument={onDeleteDocument}\n                locale={locale}\n            />\n            <MarkdownView\n                className={classes.markdown}\n                value={get(data, 'markdown', '')}\n            />\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}