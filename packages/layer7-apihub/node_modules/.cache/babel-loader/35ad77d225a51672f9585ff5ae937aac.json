{"ast":null,"code":"import _slicedToArray from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import Button from'@material-ui/core/Button';import{CRUD_DELETE,useDelete,useNotify,useTranslate,useRefresh}from'ra-core';export var DeleteDocumentButton=function DeleteDocumentButton(_ref){var document=_ref.document,entityType=_ref.entityType,entityUuid=_ref.entityUuid,hasChildren=_ref.hasChildren,onClick=_ref.onClick,rest=_objectWithoutProperties(_ref,[\"document\",\"entityType\",\"entityUuid\",\"hasChildren\",\"onClick\"]);var translate=useTranslate();var notify=useNotify();var refresh=useRefresh();var _useDelete=useDelete('documents',document.id,document,{action:CRUD_DELETE,onSuccess:function onSuccess(){notify('resources.documents.notifications.delete_success','info',{smart_count:1});refresh();onClick();},onFailure:function onFailure(){notify('resources.documents.notifications.delete_error','warning');}}),_useDelete2=_slicedToArray(_useDelete,1),deleteDocument=_useDelete2[0];var handleDeleteDocument=function handleDeleteDocument(){var shouldDelete=global.window.confirm(hasChildren?translate('resources.apis.documentation.confirm_delete_document_with_children'):translate('resources.apis.documentation.confirm_delete_document_without_children'));if(shouldDelete){deleteDocument();}};return React.createElement(Button,Object.assign({onClick:handleDeleteDocument},rest));};DeleteDocumentButton.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"DeleteDocumentButton\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/Documentation/DeleteDocumentButton.js\"]={name:\"DeleteDocumentButton\",docgenInfo:DeleteDocumentButton.__docgenInfo,path:\"src/apis/Documentation/DeleteDocumentButton.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/apis/Documentation/DeleteDocumentButton.js"],"names":["React","Button","CRUD_DELETE","useDelete","useNotify","useTranslate","useRefresh","DeleteDocumentButton","document","entityType","entityUuid","hasChildren","onClick","rest","translate","notify","refresh","id","action","onSuccess","smart_count","onFailure","deleteDocument","handleDeleteDocument","shouldDelete","global","window","confirm"],"mappings":"8TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OACIC,WADJ,CAEIC,SAFJ,CAGIC,SAHJ,CAIIC,YAJJ,CAKIC,UALJ,KAMO,SANP,CAQA,MAAO,IAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAO9B,IANFC,CAAAA,QAME,MANFA,QAME,CALFC,UAKE,MALFA,UAKE,CAJFC,UAIE,MAJFA,UAIE,CAHFC,WAGE,MAHFA,WAGE,CAFFC,OAEE,MAFFA,OAEE,CADCC,IACD,+FACF,GAAMC,CAAAA,SAAS,CAAGT,YAAY,EAA9B,CACA,GAAMU,CAAAA,MAAM,CAAGX,SAAS,EAAxB,CACA,GAAMY,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAHE,eAKuBH,SAAS,CAAC,WAAD,CAAcK,QAAQ,CAACS,EAAvB,CAA2BT,QAA3B,CAAqC,CACnEU,MAAM,CAAEhB,WAD2D,CAEnEiB,SAAS,CAAE,oBAAM,CACbJ,MAAM,CAAC,kDAAD,CAAqD,MAArD,CAA6D,CAC/DK,WAAW,CAAE,CADkD,CAA7D,CAAN,CAGAJ,OAAO,GACPJ,OAAO,GACV,CARkE,CASnES,SAAS,CAAE,oBAAM,CACbN,MAAM,CAAC,gDAAD,CAAmD,SAAnD,CAAN,CACH,CAXkE,CAArC,CALhC,0CAKKO,cALL,gBAmBF,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAC/B,GAAMC,CAAAA,YAAY,CAAGC,MAAM,CAACC,MAAP,CAAcC,OAAd,CACjBhB,WAAW,CACLG,SAAS,CACL,oEADK,CADJ,CAILA,SAAS,CACL,uEADK,CALE,CAArB,CASA,GAAIU,YAAJ,CAAkB,CACdF,cAAc,GACjB,CACJ,CAbD,CAeA,MAAO,qBAAC,MAAD,gBAAQ,OAAO,CAAEC,oBAAjB,EAA2CV,IAA3C,EAAP,CACH,CA1CM,C","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport {\n    CRUD_DELETE,\n    useDelete,\n    useNotify,\n    useTranslate,\n    useRefresh,\n} from 'ra-core';\n\nexport const DeleteDocumentButton = ({\n    document,\n    entityType,\n    entityUuid,\n    hasChildren,\n    onClick,\n    ...rest\n}) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const refresh = useRefresh();\n\n    const [deleteDocument] = useDelete('documents', document.id, document, {\n        action: CRUD_DELETE,\n        onSuccess: () => {\n            notify('resources.documents.notifications.delete_success', 'info', {\n                smart_count: 1,\n            });\n            refresh();\n            onClick();\n        },\n        onFailure: () => {\n            notify('resources.documents.notifications.delete_error', 'warning');\n        },\n    });\n\n    const handleDeleteDocument = () => {\n        const shouldDelete = global.window.confirm(\n            hasChildren\n                ? translate(\n                      'resources.apis.documentation.confirm_delete_document_with_children'\n                  )\n                : translate(\n                      'resources.apis.documentation.confirm_delete_document_without_children'\n                  )\n        );\n        if (shouldDelete) {\n            deleteDocument();\n        }\n    };\n\n    return <Button onClick={handleDeleteDocument} {...rest} />;\n};\n"]},"metadata":{},"sourceType":"module"}