{"ast":null,"code":"import _slicedToArray from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{useSetLocale,useLocale}from'ra-core';import{LocaleSwitcherMenu,supportedLocales,defaultLocale}from'./i18n';import{useApiHubPreference}from'./preferences';export var ApiHubLanguageSwitcher=function ApiHubLanguageSwitcher(){var setLocale=useSetLocale();var locale=useLocale();var _useApiHubPreference=useApiHubPreference('locale'),_useApiHubPreference2=_slicedToArray(_useApiHubPreference,2),localePreference=_useApiHubPreference2[0],writeLocalePreference=_useApiHubPreference2[1];useEffect(function(){if(!supportedLocales[localePreference]){writeLocalePreference(defaultLocale);return;}if(localePreference!==locale){setLocale(localePreference);}},[locale,localePreference,setLocale,writeLocalePreference]);var handleLocaleChange=function handleLocaleChange(newLocale){writeLocalePreference(newLocale);};return React.createElement(LocaleSwitcherMenu,{locale:locale,locales:supportedLocales,onChange:handleLocaleChange});};ApiHubLanguageSwitcher.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"ApiHubLanguageSwitcher\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/ApiHubLanguageSwitcher.js\"]={name:\"ApiHubLanguageSwitcher\",docgenInfo:ApiHubLanguageSwitcher.__docgenInfo,path:\"src/ApiHubLanguageSwitcher.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/ApiHubLanguageSwitcher.js"],"names":["React","useEffect","useSetLocale","useLocale","LocaleSwitcherMenu","supportedLocales","defaultLocale","useApiHubPreference","ApiHubLanguageSwitcher","setLocale","locale","localePreference","writeLocalePreference","handleLocaleChange","newLocale"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,SAAxC,CAEA,OAASC,kBAAT,CAA6BC,gBAA7B,CAA+CC,aAA/C,KAAoE,QAApE,CACA,OAASC,mBAAT,KAAoC,eAApC,CAEA,MAAO,IAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,EAAM,CACxC,GAAMC,CAAAA,SAAS,CAAGP,YAAY,EAA9B,CACA,GAAMQ,CAAAA,MAAM,CAAGP,SAAS,EAAxB,CAFwC,yBAIUI,mBAAmB,CACjE,QADiE,CAJ7B,8DAIjCI,gBAJiC,0BAIfC,qBAJe,0BAQxCX,SAAS,CAAC,UAAM,CACZ,GAAI,CAACI,gBAAgB,CAACM,gBAAD,CAArB,CAAyC,CACrCC,qBAAqB,CAACN,aAAD,CAArB,CACA,OACH,CAED,GAAIK,gBAAgB,GAAKD,MAAzB,CAAiC,CAC7BD,SAAS,CAACE,gBAAD,CAAT,CACH,CACJ,CATQ,CASN,CAACD,MAAD,CAASC,gBAAT,CAA2BF,SAA3B,CAAsCG,qBAAtC,CATM,CAAT,CAWA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,SAAS,CAAI,CACpCF,qBAAqB,CAACE,SAAD,CAArB,CACH,CAFD,CAIA,MACI,qBAAC,kBAAD,EACI,MAAM,CAAEJ,MADZ,CAEI,OAAO,CAAEL,gBAFb,CAGI,QAAQ,CAAEQ,kBAHd,EADJ,CAOH,CA9BM,C","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSetLocale, useLocale } from 'ra-core';\n\nimport { LocaleSwitcherMenu, supportedLocales, defaultLocale } from './i18n';\nimport { useApiHubPreference } from './preferences';\n\nexport const ApiHubLanguageSwitcher = () => {\n    const setLocale = useSetLocale();\n    const locale = useLocale();\n\n    const [localePreference, writeLocalePreference] = useApiHubPreference(\n        'locale'\n    );\n\n    useEffect(() => {\n        if (!supportedLocales[localePreference]) {\n            writeLocalePreference(defaultLocale);\n            return;\n        }\n\n        if (localePreference !== locale) {\n            setLocale(localePreference);\n        }\n    }, [locale, localePreference, setLocale, writeLocalePreference]);\n\n    const handleLocaleChange = newLocale => {\n        writeLocalePreference(newLocale);\n    };\n\n    return (\n        <LocaleSwitcherMenu\n            locale={locale}\n            locales={supportedLocales}\n            onChange={handleLocaleChange}\n        />\n    );\n};\n"]},"metadata":{},"sourceType":"module"}