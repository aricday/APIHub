{"ast":null,"code":"import _objectWithoutProperties from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from'react';import get from'lodash/get';import{useTranslate,useGetManyReference}from'ra-core';import{makeStyles}from'@material-ui/core/styles';import Chip from'@material-ui/core/Chip';import LinearProgress from'@material-ui/core/LinearProgress';import Typography from'@material-ui/core/Typography';import Tabs from'@material-ui/core/Tabs';import Tab from'@material-ui/core/Tab';import TabScrollButton from'@material-ui/core/Tabs/TabScrollButton';import classnames from'classnames';var useStyles=makeStyles(function(theme){return{root:{margin:0,padding:0,maxWidth:300,minHeight:'unset',position:'relative'},tab:{minHeight:'unset',minWidth:'unset',maxWidth:'unset',paddingBottom:0,paddingTop:0,paddingLeft:theme.spacing(0.5),paddingRight:theme.spacing(0.5)},tag:{borderRadius:theme.spacing(0.5),backgroundColor:'transparent',border:'1px solid','& + &':{marginLeft:theme.spacing()}},error:{color:theme.palette.error.main,marginBottom:theme.spacing()}};});export var TagsField=function TagsField(props){var className=props.className,record=props.record,source=props.source,_props$color=props.color,color=_props$color===void 0?'primary':_props$color,_props$variant=props.variant,variant=_props$variant===void 0?'outlined':_props$variant,_props$size=props.size,size=_props$size===void 0?'small':_props$size;var classes=useStyles(props);var tags=get(record,source,[]);return React.createElement(Tabs,{variant:\"scrollable\",className:classes.root,scrollButtons:\"on\",ScrollButtonComponent:TagsFieldScrollButton,component:\"ul\",value:false},tags.map(function(tag){return React.createElement(Tab,{key:tag,className:classes.tab,disableFocusRipple:true,disableRipple:true,component:\"li\",value:tag,label:React.createElement(Chip,{label:tag,className:classnames(classes.tag,className),color:color,variant:variant,size:size})});}));};export var TagsFieldScrollButton=function TagsFieldScrollButton(props){var onClick=props.onClick,rest=_objectWithoutProperties(props,[\"onClick\"]);var handleClick=function handleClick(event){event.stopPropagation();onClick(event);};return React.createElement(TabScrollButton,Object.assign({onClick:handleClick},rest));};export var AsyncTagsField=function AsyncTagsField(props){var id=props.id,_props$variant2=props.variant,variant=_props$variant2===void 0?'outlined':_props$variant2,_props$color2=props.color,color=_props$color2===void 0?'primary':_props$color2;var translate=useTranslate();var classes=useStyles(props);var _useGetManyReference=useGetManyReference('tags','id',id,undefined,undefined,undefined,'apis'),data=_useGetManyReference.data,loaded=_useGetManyReference.loaded,error=_useGetManyReference.error;if(!loaded){return React.createElement(LinearProgress,null);}if(error){return React.createElement(Typography,{variant:\"body2\",className:classes.error},translate('ra.page.error'));}var tags=data?Object.keys(data).map(function(key){return data[key];}):[];return React.createElement(React.Fragment,null,tags.map(function(tag){return React.createElement(Chip,{key:tag.id,label:tag.name,className:classes.tag,variant:variant,color:color});}));};TagsField.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"TagsField\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/TagsField.js\"]={name:\"TagsField\",docgenInfo:TagsField.__docgenInfo,path:\"src/apis/TagsField.js\"};}TagsFieldScrollButton.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"TagsFieldScrollButton\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/TagsField.js\"]={name:\"TagsFieldScrollButton\",docgenInfo:TagsFieldScrollButton.__docgenInfo,path:\"src/apis/TagsField.js\"};}AsyncTagsField.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"AsyncTagsField\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/TagsField.js\"]={name:\"AsyncTagsField\",docgenInfo:AsyncTagsField.__docgenInfo,path:\"src/apis/TagsField.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/apis/TagsField.js"],"names":["React","get","useTranslate","useGetManyReference","makeStyles","Chip","LinearProgress","Typography","Tabs","Tab","TabScrollButton","classnames","useStyles","theme","root","margin","padding","maxWidth","minHeight","position","tab","minWidth","paddingBottom","paddingTop","paddingLeft","spacing","paddingRight","tag","borderRadius","backgroundColor","border","marginLeft","error","color","palette","main","marginBottom","TagsField","props","className","record","source","variant","size","classes","tags","TagsFieldScrollButton","map","onClick","rest","handleClick","event","stopPropagation","AsyncTagsField","id","translate","undefined","data","loaded","Object","keys","key","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport get from 'lodash/get';\nimport { useTranslate, useGetManyReference } from 'ra-core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TabScrollButton from '@material-ui/core/Tabs/TabScrollButton';\nimport classnames from 'classnames';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: 0,\n        padding: 0,\n        maxWidth: 300,\n        minHeight: 'unset',\n        position: 'relative',\n    },\n    tab: {\n        minHeight: 'unset',\n        minWidth: 'unset',\n        maxWidth: 'unset',\n        paddingBottom: 0,\n        paddingTop: 0,\n        paddingLeft: theme.spacing(0.5),\n        paddingRight: theme.spacing(0.5),\n    },\n    tag: {\n        borderRadius: theme.spacing(0.5),\n        backgroundColor: 'transparent',\n        border: '1px solid',\n        '& + &': {\n            marginLeft: theme.spacing(),\n        },\n    },\n    error: {\n        color: theme.palette.error.main,\n        marginBottom: theme.spacing(),\n    },\n}));\n\nexport const TagsField = props => {\n    const {\n        className,\n        record,\n        source,\n        color = 'primary',\n        variant = 'outlined',\n        size = 'small',\n    } = props;\n\n    const classes = useStyles(props);\n    const tags = get(record, source, []);\n\n    return (\n        <Tabs\n            variant=\"scrollable\"\n            className={classes.root}\n            scrollButtons=\"on\"\n            ScrollButtonComponent={TagsFieldScrollButton}\n            component=\"ul\"\n            value={false}\n        >\n            {tags.map(tag => (\n                <Tab\n                    key={tag}\n                    className={classes.tab}\n                    disableFocusRipple\n                    disableRipple\n                    component=\"li\"\n                    value={tag}\n                    label={\n                        <Chip\n                            label={tag}\n                            className={classnames(classes.tag, className)}\n                            color={color}\n                            variant={variant}\n                            size={size}\n                        />\n                    }\n                />\n            ))}\n        </Tabs>\n    );\n};\n\nexport const TagsFieldScrollButton = props => {\n    const { onClick, ...rest } = props;\n    const handleClick = event => {\n        event.stopPropagation();\n        onClick(event);\n    };\n\n    return <TabScrollButton onClick={handleClick} {...rest} />;\n};\n\nexport const AsyncTagsField = props => {\n    const { id, variant = 'outlined', color = 'primary' } = props;\n    const translate = useTranslate();\n    const classes = useStyles(props);\n\n    const { data, loaded, error } = useGetManyReference(\n        'tags',\n        'id',\n        id,\n        undefined,\n        undefined,\n        undefined,\n        'apis'\n    );\n\n    if (!loaded) {\n        return <LinearProgress />;\n    }\n\n    if (error) {\n        return (\n            <Typography variant=\"body2\" className={classes.error}>\n                {translate('ra.page.error')}\n            </Typography>\n        );\n    }\n\n    const tags = data ? Object.keys(data).map(key => data[key]) : [];\n\n    return (\n        <>\n            {tags.map(tag => (\n                <Chip\n                    key={tag.id}\n                    label={tag.name}\n                    className={classes.tag}\n                    variant={variant}\n                    color={color}\n                />\n            ))}\n        </>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}