{"ast":null,"code":"import _objectWithoutProperties from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toConsumableArray from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{forwardRef,useMemo,useState}from'react';import TreeView from'@material-ui/lab/TreeView';import TreeItem from'@material-ui/lab/TreeItem';import ArrowDropDownIcon from'@material-ui/icons/ArrowDropDown';import ArrowRightIcon from'@material-ui/icons/ArrowRight';import{makeStyles}from'@material-ui/core';import get from'lodash/get';import{useTranslate}from'ra-core';export var DocumentationTree=function DocumentationTree(_ref){var items=_ref.items,onDocumentSelected=_ref.onDocumentSelected,selectedDocumentId=_ref.selectedDocumentId,controlledExpanded=_ref.expanded,onExpandedChange=_ref.onExpandedChange;var _useState=useState(items.filter(function(item){return!item.parentUuid;}).map(function(item){return item.id;})),_useState2=_slicedToArray(_useState,2),uncontrolledExpanded=_useState2[0],setExpanded=_useState2[1];var expanded=controlledExpanded||uncontrolledExpanded;var tree=useMemo(function(){return getDocumentationTree(items,sortByOrdinal);},[items]);var handleExpandedChange=function handleExpandedChange(newExpanded){if(onExpandedChange){return onExpandedChange(newExpanded);}setExpanded(newExpanded);};var handleSelectDocument=function handleSelectDocument(event,node){event.preventDefault();onDocumentSelected(node);};var handleCollapse=function handleCollapse(event,nodeId){return handleExpandedChange(expanded.filter(function(item){return item!==nodeId;}));};var handleExpand=function handleExpand(event,nodeId){return handleExpandedChange([].concat(_toConsumableArray(expanded),[nodeId]));};var handleNodeToggle=function handleNodeToggle(event,nodes){return handleExpandedChange(nodes);};return React.createElement(TreeView,{defaultEndIcon:React.createElement(\"div\",{style:{width:24}}),expanded:expanded,onNodeToggle:handleNodeToggle,selected:selectedDocumentId},tree.map(function(item){return React.createElement(RecursiveTreeItem,{key:item.id,node:item,nodeId:item.id,onSelect:handleSelectDocument,onCollapse:handleCollapse,onExpand:handleExpand});}));};var RecursiveTreeItem=forwardRef(function(props,ref){var node=props.node,onSelect=props.onSelect,onExpand=props.onExpand,onCollapse=props.onCollapse,rest=_objectWithoutProperties(props,[\"node\",\"onSelect\",\"onExpand\",\"onCollapse\"]);var classes=useRecursiveTreeItemStyles(props);var translate=useTranslate();var handleClick=function handleClick(event){// If the node does not have an uuid, it's a new document\n// and it shouldn't handle collapse, expand or select\nif(node&&node.uuid&&onSelect){onSelect(event,node);}};var handleCollapse=function handleCollapse(event){// Stop event propagation to avoid loading the node\nevent.stopPropagation();// If the node does not have an uuid, it's a new document\n// and it shouldn't handle collapse, expand or select\nif(node&&node.uuid&&onCollapse){onCollapse(event,node.id);}};var handleExpand=function handleExpand(event){// Stop event propagation to avoid loading the node\nevent.stopPropagation();// If the node does not have an uuid, it's a new document\n// and it shouldn't handle collapse, expand or select\nif(node&&node.uuid&&onExpand){onExpand(event,node.id);}};var handleKeyDown=function handleKeyDown(event){if(event.altKey||event.currentTarget!==event.target){return;}if(event.key==='Enter'){onSelect(event,node);}};return React.createElement(TreeItem,Object.assign({classes:classes,label:node.title,onClick:handleClick,collapseIcon:React.createElement(ArrowDropDownIcon,{role:\"button\",\"aria-label\":translate('resources.apis.collapse_documentation',{title:node.title,_:\"resources.apis.collapse_documentation.\".concat(node.title)}),onClick:handleCollapse}),expandIcon:React.createElement(ArrowRightIcon,{role:\"button\",\"aria-label\":translate('resources.apis.expand_documentation',{title:node.title,_:\"resources.apis.expand_documentation.\".concat(node.title)}),onClick:handleExpand}),ref:ref,onKeyDown:handleKeyDown},rest),node.children&&node.children.length>0?node.children.map(function(child){return React.createElement(RecursiveTreeItem,{key:child.id,node:child,nodeId:child.id,onSelect:onSelect,onExpand:onExpand,onCollapse:onCollapse});}):null);});var useRecursiveTreeItemStyles=makeStyles(function(theme){return{content:{padding:theme.spacing(1),paddingLeft:0},label:{}};});export var sortByOrdinal=function sortByOrdinal(a,b){return a.ordinal-b.ordinal;};export var getDocumentationTree=function getDocumentationTree(items){var sortFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(a){return a;};return items.filter(function(item){return!item.parentUuid;}).reduce(function(acc,item){item.children=getChildDocuments(item,items);acc.push(item);return acc;},[]).sort(sortFn);};export var getChildDocuments=function getChildDocuments(parent,items){var sortFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(a){return a;};return items.filter(function(item){return item.parentUuid===parent.uuid&&!!parent.uuid;}).reduce(function(acc,item){item.children=getChildDocuments(item,items);acc.push(item);return acc;},[]).sort(sortFn);};export var getSiblingsDocuments=function getSiblingsDocuments(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var parentUuid=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(parentUuid===undefined){return items;}var i=0;while(i<items.length){var item=items[i];var children=get(item,'children',[]);if(item.uuid===parentUuid){return children;}var result=getSiblingsDocuments(children,parentUuid);if(result.length>0){return result;}i++;}return[];};export var documentHasChildren=function documentHasChildren(items,document){return items.some(function(node){return node.parentUuid===document.uuid;});};export var getMaxOrdinalFromDocuments=function getMaxOrdinalFromDocuments(items){if(!Array.isArray(items)||items.length===0){return-1;}var sortedSiblingsItems=items.sort(function(itemA,itemB){return itemB.ordinal-itemA.ordinal;});return sortedSiblingsItems[0].ordinal;};DocumentationTree.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"DocumentationTree\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/apis/Documentation/DocumentationTree.js\"]={name:\"DocumentationTree\",docgenInfo:DocumentationTree.__docgenInfo,path:\"src/apis/Documentation/DocumentationTree.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/apis/Documentation/DocumentationTree.js"],"names":["React","forwardRef","useMemo","useState","TreeView","TreeItem","ArrowDropDownIcon","ArrowRightIcon","makeStyles","get","useTranslate","DocumentationTree","items","onDocumentSelected","selectedDocumentId","controlledExpanded","expanded","onExpandedChange","filter","item","parentUuid","map","id","uncontrolledExpanded","setExpanded","tree","getDocumentationTree","sortByOrdinal","handleExpandedChange","newExpanded","handleSelectDocument","event","node","preventDefault","handleCollapse","nodeId","handleExpand","handleNodeToggle","nodes","width","RecursiveTreeItem","props","ref","onSelect","onExpand","onCollapse","rest","classes","useRecursiveTreeItemStyles","translate","handleClick","uuid","stopPropagation","handleKeyDown","altKey","currentTarget","target","key","title","_","children","length","child","theme","content","padding","spacing","paddingLeft","label","a","b","ordinal","sortFn","reduce","acc","getChildDocuments","push","sort","parent","getSiblingsDocuments","undefined","i","result","documentHasChildren","document","some","getMaxOrdinalFromDocuments","Array","isArray","sortedSiblingsItems","itemA","itemB"],"mappings":"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","sourcesContent":["import React, { forwardRef, useMemo, useState } from 'react';\nimport TreeView from '@material-ui/lab/TreeView';\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport { makeStyles } from '@material-ui/core';\nimport get from 'lodash/get';\nimport { useTranslate } from 'ra-core';\n\nexport const DocumentationTree = ({\n    items,\n    onDocumentSelected,\n    selectedDocumentId,\n    expanded: controlledExpanded,\n    onExpandedChange,\n}) => {\n    const [uncontrolledExpanded, setExpanded] = useState(\n        items.filter(item => !item.parentUuid).map(item => item.id)\n    );\n\n    const expanded = controlledExpanded || uncontrolledExpanded;\n    const tree = useMemo(() => getDocumentationTree(items, sortByOrdinal), [\n        items,\n    ]);\n\n    const handleExpandedChange = newExpanded => {\n        if (onExpandedChange) {\n            return onExpandedChange(newExpanded);\n        }\n\n        setExpanded(newExpanded);\n    };\n\n    const handleSelectDocument = (event, node) => {\n        event.preventDefault();\n        onDocumentSelected(node);\n    };\n\n    const handleCollapse = (event, nodeId) =>\n        handleExpandedChange(expanded.filter(item => item !== nodeId));\n\n    const handleExpand = (event, nodeId) =>\n        handleExpandedChange([...expanded, nodeId]);\n\n    const handleNodeToggle = (event, nodes) => handleExpandedChange(nodes);\n\n    return (\n        <TreeView\n            defaultEndIcon={<div style={{ width: 24 }} />}\n            expanded={expanded}\n            onNodeToggle={handleNodeToggle}\n            selected={selectedDocumentId}\n        >\n            {tree.map(item => (\n                <RecursiveTreeItem\n                    key={item.id}\n                    node={item}\n                    nodeId={item.id}\n                    onSelect={handleSelectDocument}\n                    onCollapse={handleCollapse}\n                    onExpand={handleExpand}\n                />\n            ))}\n        </TreeView>\n    );\n};\n\nconst RecursiveTreeItem = forwardRef((props, ref) => {\n    const { node, onSelect, onExpand, onCollapse, ...rest } = props;\n    const classes = useRecursiveTreeItemStyles(props);\n    const translate = useTranslate();\n\n    const handleClick = event => {\n        // If the node does not have an uuid, it's a new document\n        // and it shouldn't handle collapse, expand or select\n        if (node && node.uuid && onSelect) {\n            onSelect(event, node);\n        }\n    };\n\n    const handleCollapse = event => {\n        // Stop event propagation to avoid loading the node\n        event.stopPropagation();\n\n        // If the node does not have an uuid, it's a new document\n        // and it shouldn't handle collapse, expand or select\n        if (node && node.uuid && onCollapse) {\n            onCollapse(event, node.id);\n        }\n    };\n\n    const handleExpand = event => {\n        // Stop event propagation to avoid loading the node\n        event.stopPropagation();\n\n        // If the node does not have an uuid, it's a new document\n        // and it shouldn't handle collapse, expand or select\n        if (node && node.uuid && onExpand) {\n            onExpand(event, node.id);\n        }\n    };\n\n    const handleKeyDown = event => {\n        if (event.altKey || event.currentTarget !== event.target) {\n            return;\n        }\n\n        if (event.key === 'Enter') {\n            onSelect(event, node);\n        }\n    };\n\n    return (\n        <TreeItem\n            classes={classes}\n            label={node.title}\n            onClick={handleClick}\n            collapseIcon={\n                <ArrowDropDownIcon\n                    role=\"button\"\n                    aria-label={translate(\n                        'resources.apis.collapse_documentation',\n                        {\n                            title: node.title,\n                            _: `resources.apis.collapse_documentation.${node.title}`,\n                        }\n                    )}\n                    onClick={handleCollapse}\n                />\n            }\n            expandIcon={\n                <ArrowRightIcon\n                    role=\"button\"\n                    aria-label={translate(\n                        'resources.apis.expand_documentation',\n                        {\n                            title: node.title,\n                            _: `resources.apis.expand_documentation.${node.title}`,\n                        }\n                    )}\n                    onClick={handleExpand}\n                />\n            }\n            ref={ref}\n            onKeyDown={handleKeyDown}\n            {...rest}\n        >\n            {node.children && node.children.length > 0\n                ? node.children.map(child => (\n                      <RecursiveTreeItem\n                          key={child.id}\n                          node={child}\n                          nodeId={child.id}\n                          onSelect={onSelect}\n                          onExpand={onExpand}\n                          onCollapse={onCollapse}\n                      />\n                  ))\n                : null}\n        </TreeItem>\n    );\n});\n\nconst useRecursiveTreeItemStyles = makeStyles(theme => ({\n    content: {\n        padding: theme.spacing(1),\n        paddingLeft: 0,\n    },\n    label: {},\n}));\n\nexport const sortByOrdinal = (a, b) => a.ordinal - b.ordinal;\n\nexport const getDocumentationTree = (items, sortFn = a => a) => {\n    return items\n        .filter(item => !item.parentUuid)\n        .reduce((acc, item) => {\n            item.children = getChildDocuments(item, items);\n            acc.push(item);\n            return acc;\n        }, [])\n        .sort(sortFn);\n};\n\nexport const getChildDocuments = (parent, items, sortFn = a => a) => {\n    return items\n        .filter(item => item.parentUuid === parent.uuid && !!parent.uuid)\n        .reduce((acc, item) => {\n            item.children = getChildDocuments(item, items);\n            acc.push(item);\n            return acc;\n        }, [])\n        .sort(sortFn);\n};\n\nexport const getSiblingsDocuments = (items = [], parentUuid = undefined) => {\n    if (parentUuid === undefined) {\n        return items;\n    }\n\n    let i = 0;\n\n    while (i < items.length) {\n        const item = items[i];\n\n        const children = get(item, 'children', []);\n\n        if (item.uuid === parentUuid) {\n            return children;\n        }\n\n        const result = getSiblingsDocuments(children, parentUuid);\n\n        if (result.length > 0) {\n            return result;\n        }\n\n        i++;\n    }\n\n    return [];\n};\n\nexport const documentHasChildren = (items, document) => {\n    return items.some(node => node.parentUuid === document.uuid);\n};\n\nexport const getMaxOrdinalFromDocuments = items => {\n    if (!Array.isArray(items) || items.length === 0) {\n        return -1;\n    }\n    const sortedSiblingsItems = items.sort(\n        (itemA, itemB) => itemB.ordinal - itemA.ordinal\n    );\n    return sortedSiblingsItems[0].ordinal;\n};\n"]},"metadata":{},"sourceType":"module"}