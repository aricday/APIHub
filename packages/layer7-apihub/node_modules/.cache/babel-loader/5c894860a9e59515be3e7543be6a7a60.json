{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectWithoutProperties from\"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{cloneElement,useCallback}from'react';import MuiGrid from'@material-ui/core/Grid';import{makeStyles}from'@material-ui/core/styles';import{useHistory}from'react-router-dom';import{linkToRecord}from'ra-core';var useStyles=makeStyles(function(theme){return{root:{margin:'-2px'},gridList:{width:'100%',marginTop:0,marginBottom:0,marginLeft:-theme.spacing(),marginRight:-theme.spacing()},placeholder:{backgroundColor:theme.palette.grey[300],height:'100%'}};});var times=function times(nbChildren,fn){return Array.from({length:nbChildren},function(_,key){return fn(key);});};export var LoadingCardGrid=function LoadingCardGrid(_ref){var _ref$nbItems=_ref.nbItems,nbItems=_ref$nbItems===void 0?10:_ref$nbItems;var classes=useStyles();return React.createElement(\"div\",{className:classes.root},React.createElement(MuiGrid,{container:true,className:classes.gridList},times(nbItems,function(key){return React.createElement(MuiGrid,{item:true,key:key},React.createElement(\"div\",{className:classes.placeholder}));})));};export var LoadedCardGrid=function LoadedCardGrid(_ref2){var basePath=_ref2.basePath,children=_ref2.children,data=_ref2.data,ids=_ref2.ids,resource=_ref2.resource,rowClick=_ref2.rowClick,_ref2$spacing=_ref2.spacing,spacing=_ref2$spacing===void 0?2:_ref2$spacing;var classes=useStyles();return React.createElement(\"div\",{className:classes.root},React.createElement(MuiGrid,{className:classes.gridList,container:true,spacing:spacing},ids.map(function(id){return React.createElement(CardGridItem,{key:id,id:id,basePath:basePath,record:data[id],resource:resource,rowClick:rowClick},children);})));};export var CardGrid=function CardGrid(_ref3){var loaded=_ref3.loaded,props=_objectWithoutProperties(_ref3,[\"loaded\"]);return loaded?React.createElement(LoadedCardGrid,props):React.createElement(LoadingCardGrid,props);};export var CardGridItem=function CardGridItem(_ref4){var basePath=_ref4.basePath,children=_ref4.children,id=_ref4.id,record=_ref4.record,resource=_ref4.resource,rowClick=_ref4.rowClick,_ref4$xsSize=_ref4.xsSize,xsSize=_ref4$xsSize===void 0?12:_ref4$xsSize,_ref4$smSize=_ref4.smSize,smSize=_ref4$smSize===void 0?6:_ref4$smSize,_ref4$mdSize=_ref4.mdSize,mdSize=_ref4$mdSize===void 0?4:_ref4$mdSize,_ref4$lgSize=_ref4.lgSize,lgSize=_ref4$lgSize===void 0?3:_ref4$lgSize,_ref4$xlSize=_ref4.xlSize,xlSize=_ref4$xlSize===void 0?3:_ref4$xlSize,props=_objectWithoutProperties(_ref4,[\"basePath\",\"children\",\"id\",\"record\",\"resource\",\"rowClick\",\"xsSize\",\"smSize\",\"mdSize\",\"lgSize\",\"xlSize\"]);var history=useHistory();var handleClick=useCallback(function _callee(event){var effect;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(rowClick){_context.next=2;break;}return _context.abrupt(\"return\");case 2:event.persist();if(!(typeof rowClick==='function')){_context.next=9;break;}_context.next=6;return _regeneratorRuntime.awrap(rowClick(id,basePath,record));case 6:_context.t0=_context.sent;_context.next=10;break;case 9:_context.t0=rowClick;case 10:effect=_context.t0;_context.t1=effect;_context.next=_context.t1==='edit'?14:_context.t1==='show'?16:18;break;case 14:history.push(linkToRecord(basePath,id));return _context.abrupt(\"return\");case 16:history.push(linkToRecord(basePath,id,'show'));return _context.abrupt(\"return\");case 18:if(effect)history.push(effect);return _context.abrupt(\"return\");case 20:case\"end\":return _context.stop();}}});},[basePath,history,id,record,rowClick]);return React.createElement(MuiGrid,Object.assign({item:true,onClick:handleClick,xs:xsSize,sm:smSize,md:mdSize,lg:lgSize,xl:xlSize},props),cloneElement(children,{basePath:basePath,id:id,record:record,resource:resource}));};LoadingCardGrid.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"LoadingCardGrid\",\"props\":{\"nbItems\":{\"defaultValue\":{\"value\":\"10\",\"computed\":false},\"required\":false}}};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/ui/CardGrid/CardGrid.js\"]={name:\"LoadingCardGrid\",docgenInfo:LoadingCardGrid.__docgenInfo,path:\"src/ui/CardGrid/CardGrid.js\"};}LoadedCardGrid.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"LoadedCardGrid\",\"props\":{\"spacing\":{\"defaultValue\":{\"value\":\"2\",\"computed\":false},\"required\":false}}};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/ui/CardGrid/CardGrid.js\"]={name:\"LoadedCardGrid\",docgenInfo:LoadedCardGrid.__docgenInfo,path:\"src/ui/CardGrid/CardGrid.js\"};}CardGrid.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"CardGrid\"};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/ui/CardGrid/CardGrid.js\"]={name:\"CardGrid\",docgenInfo:CardGrid.__docgenInfo,path:\"src/ui/CardGrid/CardGrid.js\"};}CardGridItem.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"CardGridItem\",\"props\":{\"xsSize\":{\"defaultValue\":{\"value\":\"12\",\"computed\":false},\"required\":false},\"smSize\":{\"defaultValue\":{\"value\":\"6\",\"computed\":false},\"required\":false},\"mdSize\":{\"defaultValue\":{\"value\":\"4\",\"computed\":false},\"required\":false},\"lgSize\":{\"defaultValue\":{\"value\":\"3\",\"computed\":false},\"required\":false},\"xlSize\":{\"defaultValue\":{\"value\":\"3\",\"computed\":false},\"required\":false}}};if(typeof STORYBOOK_REACT_CLASSES!==\"undefined\"){STORYBOOK_REACT_CLASSES[\"src/ui/CardGrid/CardGrid.js\"]={name:\"CardGridItem\",docgenInfo:CardGridItem.__docgenInfo,path:\"src/ui/CardGrid/CardGrid.js\"};}","map":{"version":3,"sources":["/Users/aricday/Projects/APIHub/packages/layer7-apihub/src/ui/CardGrid/CardGrid.js"],"names":["React","cloneElement","useCallback","MuiGrid","makeStyles","useHistory","linkToRecord","useStyles","theme","root","margin","gridList","width","marginTop","marginBottom","marginLeft","spacing","marginRight","placeholder","backgroundColor","palette","grey","height","times","nbChildren","fn","Array","from","length","_","key","LoadingCardGrid","nbItems","classes","LoadedCardGrid","basePath","children","data","ids","resource","rowClick","map","id","CardGrid","loaded","props","CardGridItem","record","xsSize","smSize","mdSize","lgSize","xlSize","history","handleClick","event","persist","effect","push"],"mappings":"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","sourcesContent":["import React, { cloneElement, useCallback } from 'react';\nimport MuiGrid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useHistory } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '-2px',\n    },\n    gridList: {\n        width: '100%',\n        marginTop: 0,\n        marginBottom: 0,\n        marginLeft: -theme.spacing(),\n        marginRight: -theme.spacing(),\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n}));\n\nconst times = (nbChildren, fn) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nexport const LoadingCardGrid = ({ nbItems = 10 }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGrid container className={classes.gridList}>\n                {times(nbItems, key => (\n                    <MuiGrid item key={key}>\n                        <div className={classes.placeholder} />\n                    </MuiGrid>\n                ))}\n            </MuiGrid>\n        </div>\n    );\n};\n\nexport const LoadedCardGrid = ({\n    basePath,\n    children,\n    data,\n    ids,\n    resource,\n    rowClick,\n    spacing = 2,\n}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <MuiGrid className={classes.gridList} container spacing={spacing}>\n                {ids.map(id => (\n                    <CardGridItem\n                        key={id}\n                        id={id}\n                        basePath={basePath}\n                        record={data[id]}\n                        resource={resource}\n                        rowClick={rowClick}\n                    >\n                        {children}\n                    </CardGridItem>\n                ))}\n            </MuiGrid>\n        </div>\n    );\n};\n\nexport const CardGrid = ({ loaded, ...props }) =>\n    loaded ? <LoadedCardGrid {...props} /> : <LoadingCardGrid {...props} />;\n\nexport const CardGridItem = ({\n    basePath,\n    children,\n    id,\n    record,\n    resource,\n    rowClick,\n    xsSize = 12,\n    smSize = 6,\n    mdSize = 4,\n    lgSize = 3,\n    xlSize = 3,\n    ...props\n}) => {\n    const history = useHistory();\n\n    const handleClick = useCallback(\n        async event => {\n            if (!rowClick) return;\n            event.persist();\n\n            const effect =\n                typeof rowClick === 'function'\n                    ? await rowClick(id, basePath, record)\n                    : rowClick;\n            switch (effect) {\n                case 'edit':\n                    history.push(linkToRecord(basePath, id));\n                    return;\n                case 'show':\n                    history.push(linkToRecord(basePath, id, 'show'));\n                    return;\n                default:\n                    if (effect) history.push(effect);\n                    return;\n            }\n        },\n        [basePath, history, id, record, rowClick]\n    );\n\n    return (\n        <MuiGrid\n            item\n            onClick={handleClick}\n            xs={xsSize}\n            sm={smSize}\n            md={mdSize}\n            lg={lgSize}\n            xl={xlSize}\n            {...props}\n        >\n            {cloneElement(children, {\n                basePath,\n                id,\n                record,\n                resource,\n            })}\n        </MuiGrid>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}