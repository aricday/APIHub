{"ast":null,"code":"import React from 'react';\nimport { SimpleForm } from 'react-admin';\nimport { required } from 'ra-core';\nimport { makeStyles } from '@material-ui/core';\nimport { FORM_ERROR } from 'final-form';\nimport { NewPasswordToolbar } from './NewPasswordToolbar';\nimport { PasswordInput } from '../ui';\nimport { validatePassword } from '../authentication/validatePassword';\nconst useStyles = makeStyles(theme => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}));\nexport const NewPasswordForm = props => {\n  const onSubmit = props.onSubmit;\n  const classes = useStyles(props);\n\n  const validate = ({\n    newPassword,\n    confirm_password\n  }) => {\n    if (newPassword !== confirm_password) {\n      return {\n        [FORM_ERROR]: 'resources.userContexts.validation.error_password_match'\n      };\n    }\n  };\n\n  return React.createElement(SimpleForm, Object.assign({\n    className: classes.form,\n    save: onSubmit,\n    toolbar: React.createElement(NewPasswordToolbar, null),\n    validate: validate\n  }, props), React.createElement(PasswordInput, {\n    source: \"password\",\n    label: \"resources.userContexts.fields.userDetails.current_password\",\n    fullWidth: true,\n    validate: [required()],\n    title: \"resources.userContexts.validation.tooltip_password\"\n  }), React.createElement(PasswordInput, {\n    source: \"newPassword\",\n    label: \"resources.userContexts.fields.userDetails.password\",\n    fullWidth: true,\n    validate: [required(), validatePassword],\n    title: \"resources.userContexts.validation.tooltip_password\"\n  }), React.createElement(PasswordInput, {\n    source: \"confirm_password\",\n    label: \"resources.userContexts.fields.userDetails.confirm_password\",\n    fullWidth: true,\n    validate: required(),\n    title: \"resources.userContexts.tooltip_password_confirm\"\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}