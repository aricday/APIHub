{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _swaggerUi = _interopRequireDefault(require(\"./swagger-ui\"));\n\nvar SwaggerUI =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(SwaggerUI, _React$Component);\n\n  function SwaggerUI(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, SwaggerUI);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(SwaggerUI).call(this, props));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"requestInterceptor\", function (req) {\n      if (typeof _this.props.requestInterceptor === \"function\") {\n        return _this.props.requestInterceptor(req);\n      }\n\n      return req;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"responseInterceptor\", function (res) {\n      if (typeof _this.props.responseInterceptor === \"function\") {\n        return _this.props.responseInterceptor(res);\n      }\n\n      return res;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onComplete\", function () {\n      if (typeof _this.props.onComplete === \"function\") {\n        return _this.props.onComplete(_this.system);\n      }\n    });\n    _this.SwaggerUIComponent = null;\n    _this.system = null;\n    return _this;\n  }\n\n  (0, _createClass2.default)(SwaggerUI, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ui = (0, _swaggerUi.default)({\n        plugins: this.props.plugins,\n        spec: this.props.spec,\n        url: this.props.url,\n        requestInterceptor: this.requestInterceptor,\n        responseInterceptor: this.responseInterceptor,\n        onComplete: this.onComplete,\n        docExpansion: this.props.docExpansion,\n        defaultModelExpandDepth: this.props.defaultModelExpandDepth\n      });\n      this.system = ui;\n      this.SwaggerUIComponent = ui.getComponent(\"App\", \"root\");\n      this.forceUpdate();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.SwaggerUIComponent ? _react.default.createElement(this.SwaggerUIComponent, null) : null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.url !== prevProps.url) {\n        // flush current content\n        this.system.specActions.updateSpec(\"\");\n\n        if (this.props.url) {\n          // update the internal URL\n          this.system.specActions.updateUrl(this.props.url); // trigger remote definition fetch\n\n          this.system.specActions.download(this.props.url);\n        }\n      }\n\n      if (this.props.spec !== prevProps.spec && this.props.spec) {\n        if ((0, _typeof2.default)(this.props.spec) === \"object\") {\n          this.system.specActions.updateSpec((0, _stringify.default)(this.props.spec));\n        } else {\n          this.system.specActions.updateSpec(this.props.spec);\n        }\n      }\n    }\n  }]);\n  return SwaggerUI;\n}(_react.default.Component);\n\nexports.default = SwaggerUI;","map":null,"metadata":{},"sourceType":"script"}