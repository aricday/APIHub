{"ast":null,"code":"import _slicedToArray from \"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect } from 'react';\nimport { useSetLocale, useLocale } from 'ra-core';\nimport { LocaleSwitcherMenu, supportedLocales, defaultLocale } from './i18n';\nimport { useApiHubPreference } from './preferences';\nexport var ApiHubLanguageSwitcher = function ApiHubLanguageSwitcher() {\n  var setLocale = useSetLocale();\n  var locale = useLocale();\n\n  var _useApiHubPreference = useApiHubPreference('locale'),\n      _useApiHubPreference2 = _slicedToArray(_useApiHubPreference, 2),\n      localePreference = _useApiHubPreference2[0],\n      writeLocalePreference = _useApiHubPreference2[1];\n\n  useEffect(function () {\n    if (!supportedLocales[localePreference]) {\n      writeLocalePreference(defaultLocale);\n      return;\n    }\n\n    if (localePreference !== locale) {\n      setLocale(localePreference);\n    }\n  }, [locale, localePreference, setLocale, writeLocalePreference]);\n\n  var handleLocaleChange = function handleLocaleChange(newLocale) {\n    writeLocalePreference(newLocale);\n  };\n\n  return React.createElement(LocaleSwitcherMenu, {\n    locale: locale,\n    locales: supportedLocales,\n    onChange: handleLocaleChange\n  });\n};","map":null,"metadata":{},"sourceType":"module"}