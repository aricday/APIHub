{"ast":null,"code":"import _slicedToArray from \"/Users/aricday/Projects/APIHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport { PasswordInput, required, SimpleForm, TextInput, useLogin, useTranslate } from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { makeStyles, Link, Typography } from '@material-ui/core';\nimport { LoginToolbar } from './LoginToolbar';\nconst useStyles = makeStyles(theme => ({\n  form: {\n    '& >:first-child': {\n      padding: 0\n    }\n  },\n  title: {\n    fontSize: theme.typography.fontSize * 2,\n    marginBottom: theme.spacing(6),\n    color: theme.palette.getContrastText(theme.palette.background.default)\n  }\n}));\nexport const LoginForm = props => {\n  const login = useLogin();\n  const classes = useStyles(props);\n  const translate = useTranslate();\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const submit = async ({\n    username,\n    password\n  }) => {\n    setError(null);\n    setIsLoading(true);\n\n    try {\n      await login({\n        scheme: 'credentials',\n        username,\n        password\n      });\n    } catch (_a) {\n      setError('apihub.login.notifications.invalid_credentials');\n    }\n\n    setIsLoading(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Typography, {\n    variant: \"h2\",\n    className: classes.title\n  }, translate('apihub.login.title')), React.createElement(SimpleForm, {\n    className: classes.form,\n    save: submit,\n    toolbar: React.createElement(LoginToolbar, {\n      loading: isLoading,\n      error: error\n    })\n  }, React.createElement(TextInput, {\n    source: \"username\",\n    type: \"text\",\n    label: \"apihub.login.fields.username\",\n    variant: \"outlined\",\n    fullWidth: true,\n    validate: required()\n  }), React.createElement(PasswordInput, {\n    source: \"password\",\n    label: \"apihub.login.fields.password\",\n    variant: \"outlined\",\n    fullWidth: true,\n    validate: required()\n  })), React.createElement(Typography, {\n    variant: \"body1\"\n  }, React.createElement(Link, {\n    component: RouterLink,\n    to: \"/reset-password\"\n  }, translate('apihub.login.actions.forgot_password'))));\n};","map":null,"metadata":{},"sourceType":"module"}