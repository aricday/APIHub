{"ast":null,"code":"import { useLocalStorage } from '@rehooks/local-storage';\nvar DEFAULT_STORAGE_KEY = '@layer7/preferences';\n/**\n * An hook to get, write or delete a preference.\n * The preferences will be synchronized between all the browser tabs\n * that share same localstorage.\n *\n * @param {string} preferenceName The preference name\n * @param {*} defaultPreference the default preference (is case there isn't)\n *\n * @example <caption>Simple usage</caption>\n *\n * const MyComponent = () => {\n *     const [customPreference, writeCustomPreference] = useApiHubPreference(\n *         'custom',\n *         'default value'\n *     );\n *\n *     console.log(customPreference); // 1st render: shows \"default value\", 2nd render: shows 'hello'\n *\n *     const handleClick = () => {\n *         writeCustomPreference('hello'); // Triggers an update of the useApiHubPreference hook\n *     };\n *\n *     return <button onClick={handleClick} />;\n * };\n *\n */\n\nexport var useApiHubPreference = function useApiHubPreference(preferenceName, defaultPreference) {\n  return useLocalStorage(\"\".concat(DEFAULT_STORAGE_KEY, \"/\").concat(preferenceName), defaultPreference);\n};\n/**\n * A method to get a preference from the localstorage. Be careful, it's not a hook.\n * The preference will NOT be synchronized every time the preference is updated in the localstorage.\n *\n * Use it only to get an initial preference.\n *\n * @param {string} preferenceName The preference name\n * @param {*} defaultPreference the default preference (is case there isn't)\n *\n */\n\nexport var readApiHubPreference = function readApiHubPreference(preferenceName, defaultPreference) {\n  return localStorage.getItem(\"\".concat(DEFAULT_STORAGE_KEY, \"/\").concat(preferenceName)) || defaultPreference;\n};\n/**\n * A method to write a preference in the localstorage. Be careful, it's not a hook.\n * The new preference will NOT be synchronized.\n *\n * Use it only to set an initial preference.\n *\n * @param {string} preferenceName The preference name\n * @param {*} newPreference the new preference to save\n *\n */\n\nexport var writeApiHubPreference = function writeApiHubPreference(preferenceName, newPreference) {\n  localStorage.setItem(\"\".concat(DEFAULT_STORAGE_KEY, \"/\").concat(preferenceName), newPreference);\n};","map":null,"metadata":{},"sourceType":"module"}